## Default values for mongos.

replicas: 3
shardingAnnounce: sharding-announce
manualMode: false

auth:
  enabled: false
  metricsUser: metric
  metricsPassword: ZoEQD1qf
  # existingMetricsSecret:

  key: |
    5sQGKYvjc8ov0OCqb3+Vf+LwnKuLZpwfCH2Ywgqzave56YfdBl4+ctahnHT0qiHj
    y/ZYv/GBWVhZioNdqk+RUPlvjkgZQ0ViFAOmPRpCRc/bAG1XsrnfHL/v
  # existingKeySecret:

extraLabels: {}

## Pod config

image:
  repository: mongo
  tag: 3.6.13
  pullPolicy: IfNotPresent

podDisruptionBudget: {}
  # maxUnavailable: 1
  # minAvailable: 2

podAnnotations: {}

svcAnnotations: {}

securityContext:
  runAsUser: 999
  fsGroup: 999
  runAsNonRoot: true

hostNetwork: false
terminationGracePeriodSeconds: 30

## Pod assignment

nodeSelector: {}

tolerations: []

# affinity: |
  ## go tpl

podAntiAffinity:
  hard: false
  # topologyKey: kubernetes.io/hostname

# schedulerName: stork

## Containers

initSysctl:
  enabled: false
  image:
    repository: bitnami/minideb
    tag: latest
    pullPolicy: IfNotPresent
  command: []
  mountHostSys: false

initConfig:
  resources: {}
    # requests:
    #   memory: 200Mi
    #   cpu: 100m
    # limits:
    #   memory: 200Mi

mongos:
  port: 27017
  initPort: 27018
  # suffixFQDN: servers.xxx.com

  configmap: {}

  extraEnvs: {}
  # - name: TCMALLOC_AGGRESSIVE_DECOMMIT
  #   value: "true"

  readinessProbe:
    initialDelaySeconds: 15
    periodSeconds: 10
  livenessProbe:
    initialDelaySeconds: 30
    periodSeconds: 10

  resources: {}

metrics:
  enabled: false
  image:
    repository: ssalaues/mongodb-exporter
    tag: 0.6.1
    pullPolicy: IfNotPresent

  extraArgs: |-
    --mongodb.socket-timeout=3s \
    --mongodb.sync-timeout=1m

  ## prometheus port & scrape path
  port: 9216
  path: "/metrics"

  prometheusDiscovery: false

  serviceMonitor:
    enabled: true
    interval: 30s
    scrapeTimeout: 10s
    # prometheusNamespace: "monitoring"
    prometheusSelector: {}

  livenessProbe:
    initialDelaySeconds: 30
    periodSeconds: 15

  resources: {}
